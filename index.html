<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mind Your Learning Curve - Circle Trail (with Mistake Tracking)</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
<style>
body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;display:flex;flex-direction:column;align-items:center;min-height:100vh;margin:0;background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);color:#333}.container{background-color:rgba(255,255,255,0.8);border-radius:15px;padding:20px;box-shadow:0 10px 20px rgba(0,0,0,0.1);margin:20px;max-width:800px;width:100%}h1{color:#2c3e50;text-align:center;margin-bottom:20px}p{text-align:center;line-height:1.6;margin-bottom:20px}#gameContainer{display:flex;justify-content:center;gap:20px;margin-bottom:20px}#gameArea,#trackpad{width:300px;height:300px;border:2px solid #3498db;position:relative;border-radius:10px;overflow:hidden}#gameArea{background:linear-gradient(45deg,#f1f2f6,#e3e5e8)}#trackpad{background:linear-gradient(45deg,#e3e5e8,#d1d3d7);cursor:crosshair}#cursor{width:6px;height:6px;background-color:#3498db;border-radius:50%;position:absolute;pointer-events:none;box-shadow:0 0 10px rgba(52,152,219,0.7);transition:background-color 0.3s}#trail,#cursorPath{position:absolute;top:0;left:0;width:100%;height:100%}#score,#mistakeCount{font-size:1.2em;font-weight:bold;color:#2c3e50;text-align:center;margin:10px 0}#results{text-align:center;display:flex;flex-direction:column;align-items:center}.chart-container{width:100%;max-width:600px;margin-bottom:20px}.btn{background-color:#3498db;color:white;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:1em;transition:background-color 0.3s}.btn:hover{background-color:#2980b9}#mistakeIndicator{position:absolute;width:40px;height:40px;border-radius:50%;background-color:rgba(231,76,60,0.5);pointer-events:none;display:none;animation:pulse 0.5s ease-out}@keyframes pulse{0%{transform:scale(0);opacity:1}100%{transform:scale(1);opacity:0}}
</style>
</head>
<body>
<div class="container">
<h1>Mind Your Learning Curve - Circle Trail (with Mistake Tracking)</h1>
<p>Use the trackpad on the right to move the blue cursor between the green circle trails. The cursor moves opposite to your input. Start at the arrow and complete the circle 5 times!</p>
<div id="gameContainer">
<div id="gameArea">
<canvas id="trail"></canvas>
<canvas id="cursorPath"></canvas>
<div id="cursor"></div>
<div id="mistakeIndicator"></div>
</div>
<div id="trackpad"></div>
</div>
<p id="score">Circle: 1/5</p>
<p id="mistakeCount">Mistakes: 0</p>
<div id="results" style="display: none;">
<h2>Your Learning Curve</h2>
<div class="chart-container">
<canvas id="timeChart"></canvas>
</div>
<p>The graph shows the time taken (in seconds) for each circle path. A decreasing trend indicates improvement.</p>
<div class="chart-container">
<canvas id="mistakeChart"></canvas>
</div>
<p>The graph shows the number of mistakes made for each circle path. A mistake is counted when the cursor goes outside the outer circle or inside the inner circle.</p>
<button class="btn" onclick="location.reload()">Play Again</button>
</div>
</div>
<script>
const gameArea=document.getElementById('gameArea'),trackpad=document.getElementById('trackpad'),cursor=document.getElementById('cursor'),trail=document.getElementById('trail'),cursorPath=document.getElementById('cursorPath'),ctx=trail.getContext('2d'),pathCtx=cursorPath.getContext('2d'),scoreDisplay=document.getElementById('score'),mistakeCountDisplay=document.getElementById('mistakeCount'),results=document.getElementById('results'),mistakeIndicator=document.getElementById('mistakeIndicator');let circleCount=1,startTime,times=[],mistakes=[],lastX,lastY,startX,startY,outerRadius,innerRadius,isFirstMove=!0,lastTrackpadX,lastTrackpadY,hasStartedRound=!1,hasCompletedLoop=!1,centerX,centerY,isOutside=!1,outsideStartTime=0,currentMistakes=0;function generateCircleTrail(){centerX=trail.width/2,centerY=trail.height/2,outerRadius=140,innerRadius=120,ctx.clearRect(0,0,trail.width,trail.height),pathCtx.clearRect(0,0,cursorPath.width,cursorPath.height),drawCircle(centerX,centerY,outerRadius),drawCircle(centerX,centerY,innerRadius);startX=centerX,startY=centerY-130,drawArrow(startX,startY-20,startX,startY),hasStartedRound||(setCursorPosition(startX,startY),lastX=startX,lastY=startY),pathCtx.beginPath(),pathCtx.moveTo(lastX,lastY),isFirstMove=!0,hasCompletedLoop=!1,currentMistakes=0,updateMistakeCount()}function drawCircle(t,e,a){ctx.beginPath(),ctx.arc(t,e,a,0,2*Math.PI),ctx.strokeStyle="#2ecc71",ctx.lineWidth=2,ctx.stroke()}function drawArrow(t,e,a,i){const r=10,n=Math.atan2(i-e,a-t);ctx.beginPath(),ctx.moveTo(t,e),ctx.lineTo(a,i),ctx.lineTo(a-r*Math.cos(n-Math.PI/6),i-r*Math.sin(n-Math.PI/6)),ctx.moveTo(a,i),ctx.lineTo(a-r*Math.cos(n+Math.PI/6),i-r*Math.sin(n+Math.PI/6)),ctx.strokeStyle="#3498db",ctx.lineWidth=3,ctx.stroke()}function setCursorPosition(t,e){cursor.style.left=`${t-3}px`,cursor.style.top=`${e-3}px`}function startCircle(){generateCircleTrail(),hasStartedRound||(startTime=Date.now(),hasStartedRound=!0)}function endCircle(){const t=Date.now();times.push((t-startTime)/1e3),mistakes.push(currentMistakes),circleCount++,circleCount<=5?(scoreDisplay.textContent=`Circle: ${circleCount}/5`,hasStartedRound=!1,isOutside=!1,outsideStartTime=0,startCircle()):endGame()}function endGame(){document.getElementById("gameContainer").style.display="none",scoreDisplay.style.display="none",mistakeCountDisplay.style.display="none",results.style.display="flex",drawLearningCurve()}function drawLearningCurve(){drawTimeChart(),drawMistakeChart()}function drawTimeChart(){const t=document.getElementById("timeChart").getContext("2d");new Chart(t,{type:"line",data:{labels:["1","2","3","4","5"],datasets:[{label:"Time to complete (seconds)",data:times,borderColor:"#3498db",backgroundColor:"rgba(52, 152, 219, 0.2)",tension:.1,fill:!0}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Time (seconds)"}},x:{title:{display:!0,text:"Circle Number"}}},plugins:{title:{display:!0,text:"Time to Complete Each Circle Path"}}}})}function drawMistakeChart(){const t=document.getElementById("mistakeChart").getContext("2d");new Chart(t,{type:"line",data:{labels:["1","2","3","4","5"],datasets:[{label:"Number of mistakes",data:mistakes,borderColor:"#e74c3c",backgroundColor:"rgba(231, 76, 60, 0.2)",tension:.1,fill:!0}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of mistakes"}},x:{title:{display:!0,text:"Circle Number"}}},plugins:{title:{display:!0,text:"Mistakes Made for Each Circle Path"}}}})}function moveCursor(t){const e=trackpad.getBoundingClientRect(),a=(t.clientX||t.touches[0].clientX)-e.left,i=(t.clientY||t.touches[0].clientY)-e.top;if(isFirstMove)return lastTrackpadX=a,lastTrackpadY=i,void(isFirstMove=!1);const r=a-lastTrackpadX,n=i-lastTrackpadY;lastTrackpadX=a,lastTrackpadY=i;const s=lastX-1*r,o=lastY-1*n,d=Math.max(0,Math.min(s,gameArea.offsetWidth-6)),h=Math.max(0,Math.min(o,gameArea.offsetHeight-6));setCursorPosition(d,h),pathCtx.beginPath(),pathCtx.moveTo(lastX,lastY),pathCtx.lineTo(d,h),pathCtx.strokeStyle="rgba(52, 152, 219, 0.5)",pathCtx.lineWidth=2,pathCtx.stroke(),lastX=d,lastY=h,checkCircleProgress(d,h)}function checkCircleProgress(t,e){const a=Math.sqrt(Math.pow(t-centerX,2)+Math.pow(e-centerY,2));if(a>=innerRadius&&a<=outerRadius){isOutside&&(isOutside=!1,outsideStartTime=0);const a=Math.sqrt(Math.pow(t-startX,2)+Math.pow(e-startY,2));a>50&&(hasCompletedLoop=!0),hasCompletedLoop&&a<10&&endCircle()}else isOutside||(isOutside=!0,outsideStartTime=Date.now(),currentMistakes++,updateMistakeCount(),showMistakeIndicator(t,e))}function showMistakeIndicator(t,e){cursor.style.backgroundColor="#e74c3c",mistakeIndicator.style.left=`${t-20}px`,mistakeIndicator.style.top=`${e-20}px`,mistakeIndicator.style.display="block",mistakeIndicator.style.animation="none",mistakeIndicator.offsetHeight,mistakeIndicator.style.animation=null,setTimeout(()=>{cursor.style.backgroundColor="#3498db",mistakeIndicator.style.display="none"},500)}function updateMistakeCount(){mistakeCountDisplay.textContent=`Mistakes: ${currentMistakes}`}trail.width=gameArea.offsetWidth,trail.height=gameArea.offsetHeight,cursorPath.width=gameArea.offsetWidth,cursorPath.height=gameArea.offsetHeight,trackpad.addEventListener("mousedown",t=>{isFirstMove=!0,moveCursor(t)}),trackpad.addEventListener("mousemove",t=>{t.buttons>0&&moveCursor(t)}),trackpad.addEventListener("touchstart",t=>{t.preventDefault(),isFirstMove=!0,moveCursor(t.touches[0])}),trackpad.addEventListener("touchmove",t=>{t.preventDefault(),moveCursor(t.touches[0])}),startCircle();
</script>
</body>
</html>
